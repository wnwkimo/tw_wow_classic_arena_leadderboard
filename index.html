<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <title>TW WoW Classic Arena Historical Leaderboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="./src/css/styles.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">
</head>
<body>
  <div class="container" id="app">
    <h1 class="mb-3">TW WoW Classic Arena Historical Leaderboard</h1>
    <div class="d-flex gap-2 mb-3 flex-wrap">
      <input type="file" id="fileInput" class="form-control" accept=".json" />
      <button id="clearBtn" class="btn btn-secondary">清除表格</button>
      <select id="seasonSelect" class="form-select w-auto">
        <option value="1">S1</option><option value="2">S2</option><option value="3">S3</option><option value="4">S4</option>
        <option value="5">S5</option><option value="6">S6</option><option value="7">S7</option><option value="8">S8</option>
        <option value="9">S9</option><option value="10">S10</option><option value="11">S11</option>
      </select>
      <select id="bracketSelect" class="form-select w-auto">
        <option value="2v2">2v2</option><option value="3v3">3v3</option><option value="5v5">5v5</option>
      </select>
      <button id="loadGithubBtn" class="btn btn-primary">讀取資料</button>
    </div>
    <div class="mb-3">
      <span class="summary-text me-4" id="summaryTeams">隊伍/角色數: -</span>
      <span class="summary-text me-4" id="summaryRating">平均 Rating: -</span>
      <span class="summary-text me-4" id="summaryMatches">總場次: -</span>
      <span class="summary-text" id="summaryMax">最高 Rating: -</span>
    </div>
    <table id="leaderboard" class="table table-striped table-dark" style="width:100%">
      <thead>
        <tr>
          <th>Rank</th>
          <th>Name</th>
          <th>Realm</th>
          <th>Class</th>
          <th>Race</th>
          <th>Rating</th>
          <th>Played</th>
          <th>Won</th>
          <th>Lost</th>
          <th>Win%</th>
          <th>Members</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <h3 class="mt-4">Rating 分佈圖</h3>
    <canvas id="ratingChart" height="100"></canvas>
  </div>

  <div class="modal fade" id="teamModal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content bg-dark text-light">
        <div class="modal-header">
          <h5 class="modal-title">詳情</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="d-flex align-items-center mb-3">
            <div id="modalCrest" class="crest-box me-3" style="background:#222"></div>
            <div>
              <div id="modalTitle" class="h5 mb-0">-</div>
              <div id="modalSub" class="small text-muted">-</div>
            </div>
          </div>
          <div id="memberSection">
            <div class="table-responsive">
              <table class="table table-sm table-dark" id="memberTable">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>名稱</th>
                    <th>職業</th>
                    <th>種族</th>
                    <th>Rating</th>
                    <th>Played</th>
                    <th>Won</th>
                    <th>Lost</th>
                    <th>Win%</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">關閉</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="./src/js/main.js"></script>
</body>
</html>